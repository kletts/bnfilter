<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Beveridge Nelson Filter • bnfilter</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Beveridge Nelson Filter">
<meta property="og:description" content="This code calculates the BN filter output gap with the automatic signal-to-noise selection criteria">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">bnfilter</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/BNFilter-Australia.html">Beveridge-Nelson Filter Australia</a>
    </li>
    <li>
      <a href="articles/BNFilter-UnitedStates.html">Beveridge-Nelson Filter United States</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="beveridge-nelson-filter">Beveridge Nelson Filter<a class="anchor" aria-label="anchor" href="#beveridge-nelson-filter"></a>
</h1></div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Install this package in R as:</p>
<pre><code><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"kletts/bnfilter"</span><span class="op">)</span></span></code></pre>
<p>If using an renv environment install as:</p>
<pre><code><span><span class="fu">renv</span><span class="fu">::</span><span class="fu">install</span><span class="op">(</span><span class="st">"kletts/bnfilter"</span><span class="op">)</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<ol style="list-style-type: decimal">
<li><p>Data preparation, see function <code><a href="reference/transform_series.html">bnfilter::transform_series</a></code>: to apply series differencing</p></li>
<li><p>Filtering: see function <code><a href="reference/bnf.html">bnfilter::bnf()</a></code></p></li>
<li><p>Plot cycle and cycle confidence interval: see method <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code></p></li>
<li><p>Extract original, trend, cycle and cycle confidence interval: see method <code>to.data.frame()</code></p></li>
</ol>
</div>
<div class="section level2">
<h2 id="notes-from-the-authors">Notes from the authors<a class="anchor" aria-label="anchor" href="#notes-from-the-authors"></a>
</h2>
<p>This code calculates the BN filter output gap with the automatic signal-to-noise selection criteria described in Kamber, Morley and Wong (2018) (KMW2018 hereafter), “Intuitive and Reliable Estimates of the Output Gap from a Beveridge-Nelson Filter,” Review of Economics and Statistics 100 (3), 550-566 <a href="https://doi.org/10.1162/rest_a_00691" class="external-link">https://doi.org/10.1162/rest_a_00691</a></p>
<p>It has also been updated to allow refinements of the original BN filter, as described in Kamber, Morley and Wong (2025) (KMW2025 hereafter), “Trend-Cycle Decomposition in the Presence of Large Shocks,” Journal of Economic Dynamics and Control, <a href="https://doi.org/10.1016/j.jedc.2025.105066" class="external-link">https://doi.org/10.1016/j.jedc.2025.105066</a>.</p>
<p>To allow for possible structural breaks in the long-run drift of a time series, we include options to implement dynamic demeaning as described in KMW2018 or to enter breakdate(s) informed by a test such as Bai-Perron.</p>
<p>We also allow the possibility of imposing no drift in levels, such as might be case for variables like the unemployment rate or inflation.</p>
<p>To implement the BN filter, one needs four inputs:</p>
<ol style="list-style-type: decimal">
<li>the data in first differences of the series being detrended,</li>
<li>the lag order of the restricted AR model used in estimation,</li>
<li>an indicator of whether or not iterative backcasting is employed, and</li>
<li>a signal-to-noise ratio delta.</li>
</ol>
<p>The code was modified in October 2021 to allow calculation of error bands according to the formula in the <a href="https://doi.org/10.1162/rest_a_00691" class="external-link">online appendix of BMW2018</a>.</p>
<p>As proposed in KMW2025, we have modified the original code to allow four refinements relative to KMW2018:</p>
<ol style="list-style-type: decimal">
<li>an alternative automatic selection of delta based on the local minimum of the variance of trend shocks rather than local maximum of the amplitude-to-noise ratio</li>
<li>iterative dynamic mean adjustment that uses estimates of trend instead of overall growth to avoid undue influence of outlier cyclical observations</li>
<li>dynamic estimation of BN cycle variance using the same window as dynamic demeaning for purposes of constructing more accurate 95% error bands</li>
<li>an option of iterative backcasting (until parameter estimates/backcasts converge) that uses the reversibility of the restricted AR process to backcast output growth prior to the initial observation, allowing for calculation of the BN filter cycle for the first observation in levels instead of from the second observation in levels</li>
</ol>
<p>Options are currently set to estimate the output gap for quarterly U.S. real GDP for the sample period in KMW2025 in the <code>data(usdata-updated)</code> using the automatic selection of delta based on the local minimum for the variance of trend shocks and iterative dynamic demeaning. It currently reports error bands both with and without correction for Covid outliers. Options can be modified to replicate results in the original KMW2018 paper using <code>data(usdata)</code>.</p>
<p>We are not responsible for any loss you may incur, financial or otherwise, by using our code If you use the code, please cite and acknowledge the paper.</p>
<p>Gunes Kamber<br> James Morley<br> Benjamin Wong<br> February 2025</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>What license is it under?</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing bnfilter</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Christian Klettner <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>



  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Christian Klettner.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer>
</div>






  </body>
</html>
