<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Beveridge Nelson Filter • bnfilter</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/Noto_Serif-0.4.10/font.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Beveridge Nelson Filter">
<meta name="description" content="This code calculates the BN filter output gap with the automatic signal-to-noise selection criteria">
<meta property="og:description" content="This code calculates the BN filter output gap with the automatic signal-to-noise selection criteria">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">bnfilter</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/DNFilter-Australia.html">Beveridge-Nelson Filter Australia</a></li>
    <li><a class="dropdown-item" href="articles/DNFilter-UnitedStates.html">Beveridge-Nelson Filter United States</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="beveridge-nelson-filter">Beveridge-Nelson Filter<a class="anchor" aria-label="anchor" href="#beveridge-nelson-filter"></a>
</h1></div>
<p>This package is a copy of the Beveridge-Nelson Filter R code available at <a href="https://bnfiltering.com/" class="external-link">https://bnfiltering.com/</a> re-structured as a R package for ease of installation and use.</p>
<p>Function documentation and examples are available at <a href="https://kletts.github.io/bnfilter/">https://kletts.github.io/bnfilter/</a>.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Install this package in R as:</p>
<pre><code><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"kletts/bnfilter"</span><span class="op">)</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<ol style="list-style-type: decimal">
<li><p>Data preparation, see function <code><a href="reference/transform_series.html">bnfilter::transform_series()</a></code>: to apply series differencing</p></li>
<li><p>Filtering: see function <code><a href="reference/bnf.html">bnfilter::bnf()</a></code></p></li>
<li><p>Plot cycle and cycle confidence interval: see method <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code></p></li>
<li><p>Extract original, trend, cycle and cycle confidence interval: see method <code>to.data.frame()</code></p></li>
</ol>
</div>
<div class="section level2">
<h2 id="notes-from-the-authors">Notes from the authors<a class="anchor" aria-label="anchor" href="#notes-from-the-authors"></a>
</h2>
<p>This code calculates the BN filter output gap with the automatic signal-to-noise selection criteria described in Kamber, Morley and Wong (2018) (KMW2018 hereafter), “Intuitive and Reliable Estimates of the Output Gap from a Beveridge-Nelson Filter,” Review of Economics and Statistics 100 (3), 550-566 <a href="https://doi.org/10.1162/rest_a_00691" class="external-link">https://doi.org/10.1162/rest_a_00691</a></p>
<p>It has also been updated to allow refinements of the original BN filter, as described in Kamber, Morley and Wong (2025) (KMW2025 hereafter), “Trend-Cycle Decomposition in the Presence of Large Shocks,” Journal of Economic Dynamics and Control, <a href="https://doi.org/10.1016/j.jedc.2025.105066" class="external-link">https://doi.org/10.1016/j.jedc.2025.105066</a>.</p>
<p>To allow for possible structural breaks in the long-run drift of a time series, we include options to implement dynamic demeaning as described in KMW2018 or to enter breakdate(s) informed by a test such as Bai-Perron.</p>
<p>We also allow the possibility of imposing no drift in levels, such as might be case for variables like the unemployment rate or inflation.</p>
<p>To implement the BN filter, one needs four inputs:</p>
<ol style="list-style-type: decimal">
<li>the data in first differences of the series being detrended,</li>
<li>the lag order of the restricted AR model used in estimation,</li>
<li>an indicator of whether or not iterative backcasting is employed, and</li>
<li>a signal-to-noise ratio delta.</li>
</ol>
<p>The code was modified in October 2021 to allow calculation of error bands according to the formula in the <a href="https://doi.org/10.1162/rest_a_00691" class="external-link">online appendix of BMW2018</a>.</p>
<p>As proposed in KMW2025, we have modified the original code to allow four refinements relative to KMW2018:</p>
<ol style="list-style-type: decimal">
<li>an alternative automatic selection of delta based on the local minimum of the variance of trend shocks rather than local maximum of the amplitude-to-noise ratio</li>
<li>iterative dynamic mean adjustment that uses estimates of trend instead of overall growth to avoid undue influence of outlier cyclical observations</li>
<li>dynamic estimation of BN cycle variance using the same window as dynamic demeaning for purposes of constructing more accurate 95% error bands</li>
<li>an option of iterative backcasting (until parameter estimates/backcasts converge) that uses the reversibility of the restricted AR process to backcast output growth prior to the initial observation, allowing for calculation of the BN filter cycle for the first observation in levels instead of from the second observation in levels</li>
</ol>
<p>Options are currently set to estimate the output gap for quarterly U.S. real GDP for the sample period in KMW2025 in the <code>data(usdata-updated)</code> using the automatic selection of delta based on the local minimum for the variance of trend shocks and iterative dynamic demeaning. It currently reports error bands both with and without correction for Covid outliers. Options can be modified to replicate results in the original KMW2018 paper using <code>data(usdata)</code>.</p>
<p>We are not responsible for any loss you may incur, financial or otherwise, by using our code If you use the code, please cite and acknowledge the paper.</p>
<p>Gunes Kamber<br> James Morley<br> Benjamin Wong<br> February 2025</p>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<ul>
<li><p><strong>KMW2018</strong>: Kamber G, Morley J, Wong B (2018). “Intuitive and Reliable Estimates of the Output Gap from a Beveridge-Nelson Filter.” The Review of Economics and Statistics, 100(3), 550-566. ISSN 0034-6535.</p></li>
<li><p><strong>KMW2025</strong>: Kamber G, Morley J, Wong B (2025). “Trend-cycle decomposition in the presence of large shocks.” Journal of Economic Dynamics and Control, 173, 105066. ISSN 0165-1889.</p></li>
</ul>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>What license is it under?</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing bnfilter</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Christian Klettner <br><small class="roles"> Author, maintainer </small>   </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Christian Klettner.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer>
</div>





  </body>
</html>
